[defaults]
# Central roles directory; all playbooks share the same role library
roles_path = ./roles
# SSH and task execution timeouts (seconds)
timeout = 30
connect_timeout = 30
# Ephemeral QA hosts are created/destroyed regularly; key checking causes failures
host_key_checking = False
# Cache facts in memory across tasks to avoid redundant fact-gathering
gathering = smart
fact_caching = memory
fact_caching_timeout = 3600
# Avoid cluttering the workspace with retry files
retry_files_enabled = False
# Silence the Python interpreter deprecation warnings
interpreter_python = auto_silent

[ssh_connection]
# ControlMaster multiplexing reuses the connection across tasks for speed.
# StrictHostKeyChecking disabled because QA hosts are ephemeral and change frequently.
ssh_args = -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ControlMaster=auto -o ControlPersist=60s -o ControlPath=/tmp/ansible-ssh-%h-%p-%r
# Send modules over the existing SSH connection instead of sftp/scp
pipelining = True

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, cloud.terraform.terraform_state
